---
title: "Analyzing Major Crime Reports in Toronto over the years: Increasing Auto Theft and TTC Incidents."
author: Allen Uy
thanks: "Code and data are available at: https://github.com/varygx/TorontoMajorCrime"
date: today
date-format: long
abstract: Reports of major crime in Toronto reached a peak in 2023. Based on analysis of data from OpenDataToronto there has been a steady increase of major crime reports since data collection in 2014. Through visualizing report frequency by category and location, we note a significant increase in Auto Theft incidents and incidents in the TTC. These findings suggest Toronto may not be as safe as it used to be.
format: pdf
toc: true
number-sections: true
bibliography: references.bib
---

```{r, include=FALSE, echo=FALSE}
#### Workspace setup ####
library("tidyverse")
library("here")
library("knitr")
library("kableExtra")
library("scales")

cleaned_data = read.csv(here::here("outputs/data/analysis_data.csv"))
```

# Introduction

The Eaton Centre shooting is one of the only large incidents that has occurred in Toronto's modern history, with the other major one being the Danforth shooting (@citeShooting). While tragedies like those are thankfully few and far between, in recent years people may find themselves much more aware of their surroundings and wondering if Toronto isn't as safe as it used to be. Some TTC riders definitely feel that way (@citeThoughts). Just shortly into 2024 TTC train service was halted amidst reports of a passenger with a gun on a train asking for change. There was even a stabbing at a station later that same day (@citeStabbing). Car owners also find themselves more cautious as Ontario reached a new peak in the number of auto thefts reported (@citeAutoTheft) in 2023.

Toronto Police Services classifies Major Crime Indicators (MCI) as: assault, auto theft, break and enter, homicide, robbery, sexual violation, and theft over. In this paper we use a dataset containing MCI reports to analyze the amount of crime in Toronto over the years, where these crimes are happening, what kinds of crime are happening, and a bit of insight into the relationship between the COVID pandemic and crime.

To answer these questions, the paper is divided into the following sections: Data, Results, and Conclusion. The Data section describes the data source, variables of interest, and a bit of the data cleaning process. The Results section shares the graphs and trends we were able to construct from the data. The Conclusion sections summarizes the findings of this paper and discusses next steps.

This paper finds a year over year increase in MCI reports throughout 2014 to 2019, with a decrease in reports during 2020 and 2021 correlating with the COVID Pandemic before reaching a peak in 2023. Among all MCI categories, Auto Theft has seen a sharp rise, the number of reports doubling in recent years. Finally, the number of robberies and assaults on TTC premises has seen a steady increase since 2014.

# Data

The data used in this paper was gathered from the City of Toronto's Open Data Portal via the OpenDataToronto R package (@citeOpenDataToronto) and analyzed using R (@citeR) with help from `tidyverse` (@citeTidyverse), `here` (@citeHere), `knitr` (@citeKnitr), `scales` (@citeScales), and `kableExtra` (@citeKableExtra). Data was cleaned using `janitor` (@citeJanitor).

## Major Crime Indicators

The dataset in question is published by Toronto Police Services and is refreshed quarterly (@citeData). The data used for this paper was captured on January 11, 2024 and goes back to 2014. The dataset includes 372899 reports. Reports in the dataset do not include ones that were deemed unfounded. According to Statistics Canada this means: "It has been determined through police investigation that the offence reported did not occur, nor was it attempted" (@citeFounded).

```{r, echo=FALSE}
#| label: tbl-cleaned_report_data
#| tbl-cap: Sample of Major crime Indicator Report Data
head(cleaned_data, 5) |> 
  kable(
    col.names = c("Year", "Month", "Premises", "Location", "Category", "Hood Number", "Neighbourhood"),
    booktabs=TRUE
    ) |> kable_styling(latex_options = "scale_down")
```

Two different dates were given for a report: the report date and the incident date. For the purpose of this paper we chose to refer to the report date, however a potential question could look into the difference between time of report and time of incident. Location offered a specific area that the incident took place in while premises was a general description that included: transit, house, commerical, outside, apartment, educational, and other. Upon inspecting the data, the MCI category did not include homicide or sexual violation so the remaining categories were assault, auto theft, break and enter, robbery, and theft over. Some of the reports indicated "NSA" for the neighbourhood name and id which meant "no specified area." A preview of the cleaned dataset can be seen in @tbl-cleaned_report_data.

# Results

## Total reports over the years

```{r, echo=FALSE}
#| label: fig-total_reports_category
#| fig-cap: Total reports of crime in Toronto per year with MCI Category

cleaned_data |> ggplot(aes(x=as.factor(report_year), fill=mci_category)) +
  geom_bar() +
  theme_minimal() +
  labs(title = "Total Reports of Major Crime per Year with MCI Categories",
       x = "Year",
       y = "Number of Reports") +
  geom_text(aes(label = after_stat(count)),
            stat = "count",
            position = position_stack(vjust = 0.5),
            colour = "white",
            size=2) +
  guides(fill = guide_legend(title = "MCI Category"))
```

Based on @fig-total_reports_category, the year 2023 sees a peak of nearly 50000 MCI reports. We can see a steady rise in MCI reports from 2014 to 2019 with a decrease in reports during 2020 and 2021. This lines up with the COVID pandemic and gives a plausible explanation as less people were likely to interact with others at the time.

```{r, echo=FALSE}
#| label: fig-total_reports_premises
#| fig-cap: Total reports of crime in Toronto  per year with Premises Type
cleaned_data |> ggplot(aes(x=as.factor(report_year), fill=premises_type)) +
  geom_bar() +
  theme_minimal() +
  labs(title = "Total Reports of Major Crime per Year with Premises Type",
       x = "Year",
       y = "Number of Reports") +
  geom_text(aes(label = after_stat(count)),
            stat = "count",
            position = position_stack(vjust = 0.5),
            colour = "white",
            size=2) +
  guides(fill = guide_legend(title = "Premises Type"))
```

If we instead look at the MCI reports per year with premises type (see @fig-total_reports_premises) we see that there are less MCI reports in 2020 and 2021 where the incident occurred outside compared to previous years.

## Reports during COVID

```{r, echo=FALSE}
#| label: fig-monthly_reports
#| fig-cap: MCI Reports in 2020-2022 by Month
#| fig-subcap: ["MCI Reports in 2020", "MCI Reports in 2021", "MCI Reports in 2022"]
#| layout-ncol: 2
year_2020_reports <- cleaned_data |> filter(report_year == 2020)

year_2020_reports$report_month <- factor(year_2020_reports$report_month, levels = month.name)

year_2020_reports |> ggplot(aes(x=report_month)) +
  geom_bar() +
  theme_minimal() +
  labs(title = "MCI Reports in 2020", x = "Month", y = "Number of Reports") +
  geom_text(aes(label = after_stat(count)), stat = "count", vjust = 1.5, colour = "white") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))

year_2021_reports <- cleaned_data |> filter(report_year == 2021)

year_2021_reports$report_month <- factor(year_2021_reports$report_month, levels = month.name)

year_2021_reports |> ggplot(aes(x=report_month)) +
  geom_bar() +
  theme_minimal() +
  labs(title = "MCI Reports in 2021", x = "Month", y = "Number of Reports") +
  geom_text(aes(label = after_stat(count)), stat = "count", vjust = 1.5, colour = "white") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))

year_2022_reports <- cleaned_data |> filter(report_year == 2022)

year_2022_reports$report_month <- factor(year_2022_reports$report_month, levels = month.name)

year_2022_reports |> ggplot(aes(x=report_month)) +
  geom_bar() +
  theme_minimal() +
  labs(title = "MCI Reports in 2022", x = "Month", y = "Number of Reports") +
  geom_text(aes(label = after_stat(count)), stat = "count", vjust = 1.5, colour = "white") +
  scale_x_discrete(guide = guide_axis(n.dodge=2))
```

We can see a downwards trend in the number of MCI reports in 2020 over the months as illustrated by @fig-monthly_reports. We can also see an upwards trend in 2021 and 2022 as the city begins to recover from the pandemic. However, we do not prove any correlation between the two and leave it as a plausible explanation.

## TTC Incidents per Year

```{r, echo=FALSE}
#| label: fig-ttc_reports
#| fig-cap: TTC Incident Reports per year with Premises Type

ttc_reports <- cleaned_data |> filter(grepl("Ttc", location_type, ignore.case = TRUE))

ttc_reports |> ggplot(aes(x=as.factor(report_year), fill=premises_type)) +
  geom_bar() +
  theme_minimal() +
  labs(title = "Major Crime reports on the TTC per Year", x = "Year", y = "Number of Reports") +
  geom_text(aes(label = after_stat(count)),
            stat = "count",
            position = position_stack(vjust = 0.5),
            colour = "white") + 
  guides(fill = guide_legend(title = "Premises Type"))
```

According to @fig-ttc_reports, the number of MCIs reported on the TTC has increased by 132% since 2014 and has seen a 53% increase since 2020. The outside premises type refers to a bus stop, shelter, or loop for the TTC.

## Auto Theft Incidents per Year

```{r, echo=FALSE}
#| label: fig-auto_theft_reports
#| fig-cap: Auto Theft Reports per year
auto_reports <- cleaned_data |> filter(mci_category == "Auto Theft")

auto_reports |> ggplot(aes(x=as.factor(report_year))) +
  geom_bar() +
  theme_minimal() +
  labs(title = "Auto Theft Reports per Year", x = "Year", y = "Number of Reports") +
  geom_text(aes(label = after_stat(count)), stat = "count", vjust = 1.5, colour = "white")
```

Even more extreme than the increase in TTC reports is the increase in Auto Theft seen in @fig-auto_theft_reports. When looking at @fig-total_reports_category Auto Theft is now the second most frequent crime, behind assault. The report rate for Auto Theft has increased by 235% since 2014 and increased by 110% since 2020.

# Conclusion

This paper finds a concerning rise in the number of major crime reports in Toronto, particularly over the last 5 years. Even with the City of Toronto's increasing population, the crime report rate is increasing faster than the population based on the last census data (@citePopulation). Riders on the TTC should exercise caution and car owners should take precautions. Increasing police presence may be one solution, at least on the TTC, but the city should look into social support policies and programs. More analysis on the effect of the COVID pandemic and crime reports could be done in the future, as well as examining geographic data.

\newpage

# References

```{r, include=FALSE, echo=FALSE}
citation()
citation("tidyverse")
citation("janitor")
citation("opendatatoronto")
citation("here")
citation("knitr")
citation("kableExtra")
citation("scales")
```
